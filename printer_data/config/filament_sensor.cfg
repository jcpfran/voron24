[filament_switch_sensor switch_sensor]
switch_pin: ^PG12 
pause_on_runout: False
runout_gcode:
    PAUSE_AFTER_D D=500 # length of my bowden tube
    G1 E5 F120                             # Extrude 5mm of filament at 120mm/min
    G1 E-50 F3600                            # Retract 50mm of filament at 3600mm/min
    G1 E-30 F360                            # Retract 30mm of filament at 360mm/min
    M117 Filament Runout
    RESPOND TYPE=error MSG='Filament Runout Runout Detected'
insert_gcode:
    M117 Filament Inserted
    RESPOND TYPE=error MSG='Filament Insertion Detected'

[filament_motion_sensor encoder_sensor]
switch_pin: ^PG13
detection_length: 2.88 # accuracy of motion sensor
extruder: extruder
pause_on_runout: False
runout_gcode:
    {% if printer["filament_switch_sensor switch_sensor"].filament_detected %}
        PAUSE # [pause_resume] is required in printer.cfg
        RESPOND TYPE=error MSG='Filament Motion Switch Triggered, Pausing'
        M117 Filament Bind
    {% endif %}
    RESPOND TYPE=error MSG='Filament Motion Switch Triggered, As Expected, Not Pausing'
insert_gcode:
    M117 Filament Motion
    RESPOND TYPE=error MSG='Filament Motion Detected'

