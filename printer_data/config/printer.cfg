[include mainsail.cfg]
#[include stealthburner_leds.cfg]
[include stealthburner_led_effects_3_leds.cfg]
[include led_effects.cfg]
[exclude_object]
[include camera-settings-nebula.cfg]
[include macros.cfg]
[virtual_sdcard]
path: ~/printer_data/gcodes
[display_status]
[pause_resume]
[include homing.cfg]
#####################################################################
##                   Model and Acceleration
#####################################################################

[printer]
kinematics: corexy                       # Printer type: corexy.
max_velocity: 300                        # Maximum speed (max. 300 mm/s).
max_accel: 5000                          # Maximum acceleration (max. 5000 mm/s²).
# max_accel_to_decel: 8000                 # Maximum acceleration to deceleration (max. 8000 mm/s²).
max_z_velocity: 15                       # Z-axis maximum speed (15 mm/s).
max_z_accel: 350                         # Z-axis maximum acceleration (350 mm/s²).
square_corner_velocity: 5.0              # Square corner velocity (5.0 mm/s).

[input_shaper]
shaper_freq_x: 56.4
shaper_type_x: mzv
shaper_freq_y: 44.6
shaper_type_y: mzv
damping_ratio_x: 0.048
damping_ratio_y: 0.051

#####################################################################
##                      MCU EBBCan
#####################################################################

[mcu EBBCan]
canbus_uuid: 2cd6b23f01c1                # CAN bus unique identifier for EBBCan MCU.
#  The following command is used to view the ID of canbus and needs to be entered in the SSH terminal.
#  “~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0”
#--------------------------------------------------------------
[adxl345]
  cs_pin: EBBCan:gpio1                     # Chip select pin for ADXL345 accelerometer.
  spi_software_sclk_pin: EBBCan:gpio2      # Software SPI clock pin.
  spi_software_mosi_pin: EBBCan:gpio0      # Software SPI MOSI (Master Out Slave In) pin.
  spi_software_miso_pin: EBBCan:gpio3      # Software SPI MISO (Master In Slave Out) pin.
  axes_map: z,-y,x                         # Map the axes to match the printer's coordinate system.

[resonance_tester]
  probe_points: 150, 150, 20               # Probe points for resonance testing.
  accel_chip: adxl345                      # Accelerometer chip type used for resonance testing.

#####################################################################
##                     cartographer V3 (ADXL 345)
#####################################################################

[scanner]
canbus_uuid: 6cf045fed7c7
#    Fill in the UUID that was just recorded           
x_offset: 0                          
#    adjust for your cartographers offset from nozzle to middle of coil
y_offset: 21                         
#    adjust for your cartographers offset from nozzle to middle of coil
backlash_comp: 0.00959
#   Backlash compensation distance for removing Z backlash before measuring
#   the sensor response.
# 
#   Offsets are measured from the centre of your coil, to the tip of your nozzle 
#   on a level axis. It is vital that this is accurate. 
# calibration_method: touch
#    leave this as touch unless you want to use scan only for everything. 
sensor: cartographer
#    this must be set as cartographer unless using IDM etc.
sensor_alt: carto
#    alternate name to call commands. CARTO_TOUCH etc
# scanner_touch_z_offset: 0.05         
#    This is the default and will be overwritten and added to the DO NOT SAVE area by using UI to save z offset
mesh_runs: 2
#    Number of passes to make during mesh scan.


#[adxl345]
#cs_pin: scanner:PA3
#spi_bus: spi1
# axes_map: x,-y,z

#[resonance_tester]
#accel_chip: adxl345             # Specifies ADXL345 accelerometer for resonance testing
#probe_points:
#    150, 150, 20                # Coordinates of the probe points for resonance testing

#[safe_z_home]
#home_xy_position: 150,150                # Example home_xy_position: 175,175 - This would be for a 350 * 350mm bed. 
#z_hop: 10                                # Z axis hop height after homing.

#####################################################################
##                      MCU Octopus
#####################################################################

[mcu]
canbus_uuid: 4c5a84a138ed               # CAN bus unique identifier for Octopus MCU.
canbus_interface: can0                   # CAN bus interface.

#####################################################################
##                  Temperature Monitoring
#####################################################################

[temperature_sensor chamber]
sensor_type: Generic 3950
sensor_pin: PF7
min_temp: 0
max_temp: 80

[temperature_sensor EBB_NTC]
sensor_type: Generic 3950                # Sensor type for NTC thermistor (commented out).
sensor_pin: EBBCan:gpio28                # Pin connected to NTC thermistor (commented out).

[temperature_sensor BTT-MCU]
sensor_type: temperature_mcu             # MCU internal temperature sensor.

[temperature_sensor BTT-PI]
sensor_type: temperature_host            # Host system internal temperature sensor.

[temperature_sensor chamber]
sensor_type: Generic 3950
sensor_pin: PF7
min_temp: 0
max_temp: 80

[temperature_sensor Cartographer_MCU]
sensor_type: temperature_mcu
sensor_mcu: scanner
min_temp: 0
max_temp: 105
#####################################################################
#                        B(X) ---------A(Y)
#                        |                |
#                        |                |
#                        |--------E-------|
#                        |                |
#                        |                |
#                        |                |
#####################################################################
##                   X-axis on MOTOR_0(B Motor)
#####################################################################

[stepper_x]
step_pin: PF13                           # X-axis motor pulse pin setting
dir_pin: PF12                           # X-axis motor direction pin setting
enable_pin: !PF14                        # X-axis motor enable pin setting
microsteps: 32                           # Motor microsteps setting
rotation_distance: 40                    # Active pulley circumference in mm (2GT-20T pulley 40, 2GT-16T pulley 32)
full_steps_per_rotation: 200             # Number of pulses required for a single motor revolution (1.8 degree motor: 200, 0.9 degree motor: 400)
# endstop_pin: EBBCan:gpio24               #PG6 # Limit switch pin setting (X-)
endstop_pin: tmc2240_stepper_x:virtual_endstop
position_min: 0                          # X-axis minimum travel - software limit
position_endstop: 300                    # Mechanical reset point coordinates for X-axis (change to 350 for 350 models) 300
position_max: 300                        # X-axis maximum travel - software limit (change to 350 for 350 models)
homing_speed: 85                        # Reset speed - maximum 100
homing_retract_dist: 0                   # Setback distance after the first trigger of the reset switch 5
homing_positive_dir: true                # Direction of reset (generally no change required)

[tmc2240 stepper_x]
cs_pin: PC4                              # Chip select pin for TMC2240 driver
spi_software_sclk_pin: PA5               # SPI software clock pin
spi_software_mosi_pin: PA7               # SPI software MOSI pin
spi_software_miso_pin: PA6               # SPI software MISO pin
driver_TPFD: 10                          # TMC2240 TPFD setting
run_current: 1.2                         # Motor running current value (A)
interpolate: true
diag0_pin: ^!PG6
#driver_SGT: 0                          # -64 is most sensitive value, 63 is least sensitive
#stealthchop_threshold: 999999
#driver_SLOPE_CONTROL: 2

#####################################################################
##                   Y-axis on MOTOR_1（A Motor）
#####################################################################

[stepper_y]
step_pin: PG0                            # Y-axis motor pulse pin setting
dir_pin: PG1                            # Y-axis motor direction pin setting
enable_pin: !PF15                        # Y-axis motor enable pin setting
microsteps: 32                           # Motor microsteps setting
rotation_distance: 40                    # Active pulley circumference in mm (2GT-20T pulley 40, 2GT-16T pulley 32)
full_steps_per_rotation: 200             # Number of pulses required for a single motor revolution (1.8 degree motor: 200, 0.9 degree motor: 400)
# endstop_pin: PG9                         # Limit switch pin setting (Y-)
endstop_pin: tmc2240_stepper_y:virtual_endstop
position_min: 0                          # Y-axis minimum travel - software limit
position_endstop: 310                    # Mechanical reset point coordinates for Y-axis (change to 350 for 350 models)
position_max: 310                        # Y-axis maximum travel - software limit (change to 350 for 350 models)
homing_speed: 85                         # Reset speed - maximum 100
homing_retract_dist: 0                   # Setback distance after the first trigger of the reset switch
homing_positive_dir: true                # Direction of reset (generally no change required)

[tmc2240 stepper_y]
cs_pin: PD11                             # Chip select pin for TMC2240 driver
spi_software_sclk_pin: PA5               # SPI software clock pin
spi_software_mosi_pin: PA7               # SPI software MOSI pin
spi_software_miso_pin: PA6               # SPI software MISO pin
driver_TPFD: 0                           # TMC2240 TPFD setting
run_current: 1.2                         # Motor running current value (A)
interpolate: true
diag0_pin: ^!PG9
#driver_SGT: 0                          # -64 is most sensitive value, 63 is least sensitive
#stealthchop_threshold: 999999
#driver_SLOPE_CONTROL: 2

[force_move]
enable_force_move: True



####################################################################################
#                          z1 -------------- z2
#                          |                 |
#                          |                 |
#                          |                 |
#   |                 |
#                          |                 |
#                          |                 |
#                         z0---   display ---z3
#####################################################################
##                  Z0-axis on MOTOR_2 (left front)
#####################################################################

[stepper_z]
step_pin: PF11    		   # Z-axis motor pulse pin
dir_pin: PG3               # Z-axis motor direction pin setting
enable_pin: !PG5           # Z-axis motor enable pin setting
rotation_distance: 40      # Active pulley circumference mm (2GT-20T pulley 40, 2GT-16T pulley 32)
gear_ratio: 80:16          # reduction ratio
microsteps: 32             # microsteps
endstop_pin: probe:z_virtual_endstop #PG10          # Limit switch interface
##  position_endstop is the distance of the Z limit pin trigger point from the print surface.
##  Positive value = above the termination point of the platform，
##  Negative value = termination point below the plateau.
##  Increasing the value of position_ endstop will bring the nozzle closer to the bed.
##  After running Z_ENDSTOP_CALIBRATE, position_endstop will be stored at the end of the CFG configuration.
##position_endstop: 0.5      # Modified as per actual
position_max: 280   #340       # Maximum Z-axis print height   350mm=340
position_min: -5           # Soft Limit Minimum Stroke
homing_speed: 50           # Reset speed - maximum 20
second_homing_speed: 3     # Secondary reset speed - maximum 10
homing_retract_dist: 0     # Retreat distance

#--------------------------------------------------------------------

[tmc2209 stepper_z]        # TMC2209
uart_pin: PC6              # drive communications port
interpolate: true          # Whether to enable 256 microstep interpolation
run_current: 0.8           # Motor running current value(mA)
hold_current: 0.8          # holding current(mA)
sense_resistor: 0.110      # Do not change the drive sampling resistor
#stealthchop_threshold: 999999 # Mute threshold 200


#####################################################################
##                  Z1-axis on MOTOR_3 (left rear)
#####################################################################

[stepper_z1]
step_pin: PG4                            # Z1-axis motor pulse pin setting
dir_pin: !PC1                            # Z1-axis motor direction pin setting
enable_pin: !PA0                         # Z1-axis motor enable pin setting
rotation_distance: 40                    # Active pulley circumference in mm (2GT-20T pulley 40, 2GT-16T pulley 32)
gear_ratio: 80:16                        # Reduction ratio
microsteps: 32                           # Motor microsteps setting

#--------------------------------------------------------------------

[tmc2209 stepper_z1]
uart_pin: PC7                            # UART pin for TMC2209 driver communication
interpolate: true                        # Enable 256 microstep interpolation
run_current: 0.8                         # Motor running current value (A)
hold_current: 0.8                        # Motor holding current value (A)
sense_resistor: 0.110                    # Sense resistor value
#stealthchop_threshold: 999999               # Mute threshold 200


#####################################################################
##                  Z2-axis on MOTOR_4 (right rear)
#####################################################################

[stepper_z2]
step_pin: PF9                            # Z2-axis motor pulse pin setting
dir_pin: PF10                           # Z2-axis motor direction pin setting
enable_pin: !PG2                         # Z2-axis motor enable pin setting
rotation_distance: 40                    # Active pulley circumference in mm (2GT-20T pulley 40, 2GT-16T pulley 32)
gear_ratio: 80:16                        # Reduction ratio
microsteps: 32                           # Motor microsteps setting

#--------------------------------------------------------------------

[tmc2209 stepper_z2]
uart_pin: PF2                            # UART pin for TMC2209 driver communication
interpolate: true                        # Enable 256 microstep interpolation
run_current: 0.8                         # Motor running current value (A)
hold_current: 0.8                        # Motor holding current value (A)
sense_resistor: 0.110                    # Sense resistor value
#stealthchop_threshold: 999999             # Mute threshold 200


#####################################################################
##                  Z3-axis on MOTOR_5 (right front)
#####################################################################

[stepper_z3]
step_pin: PC13                           # Z3-axis motor pulse pin setting
dir_pin: !PF0                             # Z3-axis motor direction pin setting
enable_pin: !PF1                         # Z3-axis motor enable pin setting
rotation_distance: 40                    # Active pulley circumference in mm (2GT-20T pulley 40, 2GT-16T pulley 32)
gear_ratio: 80:16                        # Reduction ratio
microsteps: 32                           # Motor microsteps setting

#--------------------------------------------------------------------

[tmc2209 stepper_z3]
uart_pin: PE4                            # UART pin for TMC2209 driver communication
interpolate: true                        # Enable 256 microstep interpolation
run_current: 0.8                         # Motor running current value (A)
hold_current: 0.8                        # Motor holding current value (A)
sense_resistor: 0.110                    # Sense resistor value
#stealthchop_threshold: 999999               # Mute threshold 200


#####################################################################
##                  Extruder motor
#####################################################################


[extruder]
step_pin: EBBCan:gpio18              # Step pin
dir_pin: EBBCan:gpio19               # Direction pin, "!" indicates logic inversion
enable_pin: !EBBCan:gpio17           # Enable pin, "!" indicates logic inversion
full_steps_per_rotation: 200         # Number of pulses required for a single motor revolution (1.8 degree motor: 200, 0.9 degree motor: 400)
microsteps: 16                       # Microsteps setting
## When calibrating the extruder, update the following value
## Assume you request 100mm feed but get 98mm,
## New value = old value x (actual extruded length / target length)
## 22.6789511 is our recommended value
gear_ratio: 50:10                    # Gear ratio
rotation_distance: 22.4706251         # Rotation distance
nozzle_diameter: 0.400               # Nozzle diameter
filament_diameter: 1.750             # Filament diameter
heater_pin: EBBCan:gpio7             # Heater pin
#control: pid                         # Control method
#pid_Kp: 24.328                       # Proportional parameter of the PID controller
#pid_Ki: 1.908                        # Integral parameter of the PID controller
#pid_Kd: 77.543                       # Derivative parameter of the PID controller
min_temp: -20                        # Minimum temperature
max_temp: 350                        # Maximum temperature
min_extrude_temp: 170                # Minimum extrude temperature
pressure_advance: 0.05               # Pressure advance - try to keep pressure below 1.0
pressure_advance_smooth_time: 0.040   # Pressure advance smooth time - default is 0.040
## Nozzle temperature PID calibration command: "PID_CALIBRATE HEATER=extruder TARGET=245"
sensor_type: MAX31865                # Temperature sensor type
sensor_pin: EBBCan:gpio9             # Sensor pin
spi_software_sclk_pin: EBBCan:gpio10 # SPI clock pin
spi_software_mosi_pin: EBBCan:gpio8  # SPI master out slave in pin
spi_software_miso_pin: EBBCan:gpio11 # SPI master in slave out pin
rtd_nominal_r: 100                   # RTD nominal resistance 100
rtd_reference_r: 430                 # RTD reference resistance 430
rtd_num_of_wires: 2                  # Number of wires for the RTD
max_extrude_only_distance: 101
#--------------------------------------------------------------------

[verify_heater extruder]             # Heater block temperature tolerance configuration
max_error: 120                       # Maximum error
check_gain_time: 120                 # Tolerance time
hysteresis: 50                       # Tolerance temperature
heating_gain: 2                      # Heating gain

#--------------------------------------------------------------------

[tmc2209 extruder]
uart_pin: EBBCan:gpio20
interpolate: false
run_current: 0.70
sense_resistor: 0.110
stealthchop_threshold: 0


#--------------------------------------------------------------------

[autotune_tmc stepper_x]
motor: siboor-42sth48-2504(s45)
sgt: 0
[autotune_tmc stepper_y]
motor: siboor-42sth48-2504(s45)
sgt: 0

[autotune_tmc stepper_z]
motor: siboor-42sth48-2504(s45)
[autotune_tmc stepper_z1]
motor: siboor-42sth48-2504(s45)
[autotune_tmc stepper_z2]
motor: siboor-42sth48-2504(s45)
[autotune_tmc stepper_z3]
motor: siboor-42sth48-2504(s45)

# [autotune_tmc extruder]
# motor: siboor-14sth20-1004a
# tuning_goal: performance

#####################################################################
##                  Heater_bed
#####################################################################

[heater_bed]
heater_pin: PA3                          # (HE1)
sensor_pin: PF3                          # sensor interface(TB)
sensor_type: ATC Semitec 104GT-2	     # ATC Semitec 104GT-2
min_temp: 0                              # Minimum temperature threshold
max_temp: 120                            # Maximum temperature threshold
max_power: 1.0                           # Maximum power for the heater or fan

#--------------------------------------------------------------------

[idle_timeout]
timeout: 1800                            # Time in seconds (30 minutes) before turning off the hot bed if idle
	
#####################################################################
# 	                   Bed Grid Calibration
#####################################################################

[bed_mesh]
zero_reference_position: 150,150  
#    This option is suitable for the 300 model. 
#    set this to the middle of your bed
speed: 200
#    movement speed of toolhead during bed mesh
horizontal_move_z: 5
#    height of scanner during bed mesh scan
mesh_min: 30, 30
#    start point of bed mesh [X, Y]
mesh_max: 270, 270
#    end point of bed mesh [X, Y]
probe_count: 30, 30
algorithm: bicubic


#####################################################################
#                  FAN
#####################################################################

[fan]                                    # Parts Cooling Fan 
pin: EBBCan:gpio13               # Fan pin 
cycle_time: 0.08            # Cycle time 0.00005
hardware_pwm: false              # hardware pwm

#--------------------------------------------------------------------

[heater_fan hotend_fan]                  # hotend fan
pin: EBBCan:gpio14               # Hotend fan pin
heater: extruder                 # Associated heating device
heater_temp: 50.0                # Temperature to start the fan
#cycle_time: 0.00003                 # Cycle time

#--------------------------------------------------------------------

##[fan_generic Nevermore]                   # Nevermore V6
##pin: PA8                                 # Pin for Nevermore fan control
#max_power: 1.0                           # Maximum power for the fan
#shutdown_speed: 1.0                      # Speed at which the fan shuts down
#kick_start_time: 5.0                     # Start-up time for the fan
# heater:  heater_bed                        # Heater associated with this fan
# heater_temp: 90                       # Temperature at which the fan activates
# fan_speed: 1.0                           # Fan speed

[output_pin nevermore]
pin: PA8
value: 0
shutdown_value: 0

#--------------------------------------------------------------------

[controller_fan controller_fan1]              # Skirt fan 1
pin: PE5                                 # Pin for Skirt fan 1
shutdown_speed: 0.0                      # Speed at which the fan shuts down (do not change)
kick_start_time: 0.5                     # Start-up time for the fan (do not change)
fan_speed: 0.6                           # Fan speed 0.6
idle_timeout: 60
heater: # extruder
stepper: stepper_x, stepper_y
#--------------------------------------------------------------------

[controller_fan controller_fan2]             # Skirt fan 2
pin: PD12                                # Pin for Skirt fan 2
shutdown_speed: 0.0                      # Speed at which the fan shuts down (do not change)
kick_start_time: 0.5                    # Start-up time for the fan (do not change)
fan_speed: 0.6                          # Fan speed 0.6
idle_timeout: 60
heater: # extruder
stepper: stepper_x, stepper_y
#--------------------------------------------------------------------
#[output_pin estractor]
#pin: PD13
#pwm: false
#value:0
#shutdown_value: 0


#[fan_generic estractor] # estractor
#pin: PD13
#max_power: 0.60
#shutdown_speed: 0.0
#kick_start_time: 5.0
#heater: heater_bed
#eater_temp: 60
#fan_speed: 1.0

#####################################################################
##                     RGB LED Light Settings
#####################################################################

[neopixel sb_leds]                    # Stealthburner LED
pin: EBBCan:gpio16                       # Pin for hotend RGB LED control
chain_count: 3                           # Number of LED beads in the chain
color_order: GRBW                        # Color order for RGBW LEDs
initial_RED: 1.0
initial_GREEN: 0.0
initial_BLUE: 1.0
initial_WHITE: 0.0


#--------------------------------------------------------------------

[neopixel caselight]
pin: PB0                             # Pin for general LED light control
chain_count: 36                         # Number of LED beads in the chain
color_order: GRB                        # Color order for RGB LEDs
initial_RED: 1.0                        # Initial red brightness
initial_GREEN:1.0                     # Initial green brightness
initial_BLUE: 1.0                     # Initial blue brightness

#[delayed_gcode my_initial_settings]#
#initial_duration: 5 # Ejecuta 5 segundos después de iniciar
#gcode:
#  status_ready # Llama a tu macro

#####################################################################
##                     SENSOR DE FILAMENTO
#####################################################################

[filament_switch_sensor switch_sensor]
switch_pin: ^PG12
pause_on_runout: False
runout_gcode:
  PAUSE # [pause_resume] is required in printer.cfg
  M117 Filament switch runout
insert_gcode:
  M117 Filament switch inserted

[filament_motion_sensor encoder_sensor]
switch_pin: ^PG13
detection_length: 2.88 # accuracy of motion sensor 2.88mm
extruder: extruder
pause_on_runout: False
runout_gcode:
  PAUSE # [pause_resume] is required in printer.cfg
  M117 Filament encoder runout
insert_gcode:
  M117 Filament encoder inserted


#####################################################################
##                     SHAKETUNE
#####################################################################


[shaketune]
result_folder: ~/printer_data/config/ShakeTune_results
#    Path where the processed results will be stored. If the folder doesn't exist,
#    it will be automatically created. You can change this if you'd like to store 
#    results in a different location.
# number_of_results_to_keep: 10
#    This setting defines how many results you want to keep in the result folder.
#    Once the specified number is exceeded, older results will be automatically deleted
#    to free up space on the SD card and avoid cluttering the results folder.
# keep_raw_data: False
#    If set to True, Shake&Tune will store both the processed graphs and the raw accelerometer
#    .stdata files in the results folder. This can be useful for debugging or archiving purposes.
#    Please always attach them when reporting any issues on GitHub or Discord.
# show_macros_in_webui: True
#    Mainsail and Fluidd doesn't create buttons for system commands (macros that are not part
#    of the printer.cfg file). This option allow Shake&Tune to inject them into the webui at runtime.
#    If set to False, the macros will be hidden but still accessible from the console by typing
#    their names manually, which can be useful if you prefer to encapsulate them into your own macros.
# timeout: 600
#    This defines the maximum processing time (in seconds) to allows to Shake&Tune for generating 
#    graphs from a .stdata file. 10 minutes should be more than enough in most cases, but if you have
#    slower hardware (e.g., older SD cards or low-performance devices), increase it to prevent timeouts.
# measurements_chunk_size: 2
#    Each Shake&Tune command uses the accelerometer to take multiple measurements. By default,
#    Shake&Tune will write a chunk of data to disk every two measurements, and at the end of the
#    command will merge these chunks into the final .stdata file for processing. "2" is a very
#    conservative setting to avoid Klipper Timer Too Close errors on lower end devices with little
#    RAM, and should work for everyone. However, if you are using a powerful computer, you may
#    wish to increase this value to keep more measurements in memory (e.g., 15-20) before writing
#    the chunk and avoid stressing the filesystem too much.
# max_freq: 200
#    This setting defines the maximum frequency at which the calculation of the power spectral density
#    is cutoff. The default value should be fine for most machines and accelerometer combinations and
#    avoid touching it unless you know what you're doing.
# dpi: 300
#    Controls the resolution of the generated graphs. The default value of 300 dpi was optimized
#    and strikes a balance between performance and readability, ensuring that graphs are clear
#    without using too much RAM to generate them. Usually, you shouldn't need to change this value.

#[axis_twist_compensation]
#speed: 50
#   The speed (in mm/s) of non-probing moves during the calibration.
#   The default is 50.
#horizontal_move_z: 5
#   The height (in mm) that the head should be commanded to move to
#   just prior to starting a probe operation. The default is 5.
#calibrate_start_x: 20
#   Defines the minimum X coordinate of the calibration
#   This should be the X coordinate that positions the nozzle at the starting
#   calibration position.
#calibrate_end_x: 280
#   Defines the maximum X coordinate of the calibration
#   This should be the X coordinate that positions the nozzle at the ending
#   calibration position.
#calibrate_y: 150
#   Defines the Y coordinate of the calibration
#   This should be the Y coordinate that positions the nozzle during the
#   calibration process. This parameter is recommended to
#   be near the center of the bed

# For Y-axis twist compensation, specify the following parameters:
#calibrate_start_y: 20
#   Defines the minimum Y coordinate of the calibration
#   This should be the Y coordinate that positions the nozzle at the starting
#   calibration position for the Y axis. This parameter must be provided if
#   compensating for Y axis twist.
#calibrate_end_y: 260
#   Defines the maximum Y coordinate of the calibration
#   This should be the Y coordinate that positions the nozzle at the ending
#   calibration position for the Y axis. This parameter must be provided if
#   compensating for Y axis twist.
#calibrate_x: 150
#   Defines the X coordinate of the calibration for Y axis twist compensation
#   This should be the X coordinate that positions the nozzle during the
#   calibration process for Y axis twist compensation. This parameter must be
#   provided and is recommended to be near the center of the bed.

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 62.656
#*# pid_ki = 2.486
#*# pid_kd = 394.734
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 26.541
#*# pid_ki = 1.988
#*# pid_kd = 88.579
#*#
#*# [scanner model default]
#*# model_coef = 1.4612479008874721,
#*# 	1.7887003927275424,
#*# 	0.7412537542622831,
#*# 	0.36023094953900253,
#*# 	0.4923434541395569,
#*# 	0.39990077581900807,
#*# 	-0.4159042963054966,
#*# 	-0.3618559642243465,
#*# 	0.37069097011157215,
#*# 	0.26373774638340003
#*# model_domain = 3.176939798995634e-07,3.326583749653708e-07
#*# model_range = 0.200000,5.100000
#*# model_temp = 61.887307
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.1.0
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.008588, 0.013004, 0.015428, 0.017376, 0.018070, 0.019204, 0.020818, 0.024076, 0.026408, 0.029327, 0.032944, 0.035938, 0.038082, 0.041099, 0.043679, 0.044199, 0.041750, 0.038423, 0.036617, 0.035341, 0.035247, 0.034636, 0.033035, 0.031289, 0.030750, 0.030680, 0.031117, 0.032215, 0.033617, 0.033386
#*# 	  0.016038, 0.019192, 0.022281, 0.024885, 0.025582, 0.026059, 0.027837, 0.030326, 0.033386, 0.035478, 0.039379, 0.043151, 0.047055, 0.050873, 0.053721, 0.053441, 0.050335, 0.046978, 0.044774, 0.043545, 0.042185, 0.041288, 0.039175, 0.037264, 0.036046, 0.035824, 0.036563, 0.037836, 0.039029, 0.038490
#*# 	  0.008701, 0.013136, 0.017586, 0.021181, 0.022882, 0.024508, 0.026135, 0.029026, 0.030999, 0.034215, 0.037937, 0.042158, 0.046026, 0.049298, 0.051056, 0.050121, 0.046399, 0.043096, 0.041023, 0.038750, 0.037297, 0.035705, 0.033884, 0.031807, 0.029372, 0.027100, 0.024811, 0.024213, 0.023961, 0.021866
#*# 	  -0.003017, 0.002649, 0.007661, 0.011764, 0.013811, 0.015355, 0.017454, 0.020142, 0.022784, 0.026236, 0.030826, 0.035704, 0.039453, 0.041931, 0.043282, 0.042326, 0.038980, 0.036641, 0.034867, 0.032670, 0.030186, 0.028609, 0.026526, 0.024195, 0.022238, 0.019308, 0.017140, 0.015982, 0.014735, 0.012444
#*# 	  -0.008282, -0.003074, 0.002179, 0.006136, 0.007596, 0.009188, 0.010100, 0.012282, 0.014088, 0.016980, 0.021342, 0.025815, 0.029730, 0.033535, 0.035415, 0.035951, 0.033237, 0.031187, 0.028589, 0.025960, 0.024240, 0.021779, 0.019812, 0.017383, 0.015031, 0.013382, 0.011316, 0.011292, 0.011675, 0.009369
#*# 	  -0.007303, -0.001332, 0.005326, 0.010573, 0.011337, 0.011011, 0.010744, 0.012051, 0.013179, 0.014848, 0.018471, 0.021932, 0.025786, 0.028956, 0.031926, 0.032072, 0.030416, 0.028189, 0.025186, 0.021873, 0.019093, 0.017088, 0.014307, 0.012089, 0.010194, 0.008346, 0.008931, 0.010163, 0.011077, 0.009180
#*# 	  -0.008472, -0.002675, 0.005924, 0.014293, 0.014720, 0.011482, 0.009735, 0.009318, 0.009426, 0.011066, 0.014736, 0.018155, 0.022754, 0.027438, 0.031447, 0.032390, 0.032261, 0.031105, 0.028316, 0.024741, 0.022023, 0.019734, 0.017231, 0.014673, 0.011459, 0.010913, 0.011580, 0.014762, 0.015654, 0.013158
#*# 	  -0.016453, -0.010016, -0.000172, 0.009154, 0.009705, 0.005653, 0.002159, 0.001485, 0.002392, 0.004417, 0.008269, 0.011804, 0.016944, 0.021919, 0.026402, 0.029032, 0.030043, 0.028721, 0.026574, 0.023735, 0.021566, 0.019862, 0.017557, 0.013787, 0.010273, 0.008443, 0.009672, 0.011984, 0.012656, 0.008721
#*# 	  -0.024260, -0.018183, -0.010250, -0.003011, -0.001633, -0.003807, -0.006287, -0.006756, -0.005602, -0.003005, 0.000125, 0.004062, 0.007657, 0.012671, 0.017304, 0.020521, 0.022877, 0.022564, 0.020263, 0.017899, 0.016274, 0.015239, 0.013347, 0.010023, 0.006829, 0.005277, 0.006457, 0.009939, 0.011595, 0.008745
#*# 	  -0.029961, -0.025353, -0.019638, -0.014386, -0.013075, -0.013785, -0.014188, -0.013870, -0.012663, -0.009622, -0.006418, -0.003654, -0.000567, 0.002808, 0.007516, 0.012218, 0.013868, 0.013537, 0.012139, 0.009746, 0.007973, 0.006622, 0.004210, 0.000569, -0.002520, -0.004018, -0.003167, -0.000002, 0.002015, 0.000647
#*# 	  -0.032704, -0.028875, -0.024776, -0.020044, -0.017531, -0.016910, -0.017232, -0.016753, -0.015519, -0.011960, -0.008958, -0.006723, -0.004307, -0.001751, 0.002457, 0.006754, 0.009010, 0.008945, 0.007363, 0.004471, 0.002014, -0.000737, -0.002583, -0.006088, -0.009067, -0.010502, -0.010095, -0.007422, -0.005740, -0.007040
#*# 	  -0.034017, -0.029793, -0.025419, -0.021220, -0.019189, -0.018718, -0.018251, -0.017217, -0.015880, -0.013891, -0.010495, -0.007777, -0.005368, -0.001502, 0.003081, 0.007026, 0.008487, 0.008849, 0.007879, 0.005619, 0.003229, 0.000411, -0.001366, -0.004173, -0.006338, -0.006467, -0.005249, -0.002531, -0.001345, -0.001889
#*# 	  -0.033240, -0.030213, -0.025636, -0.021904, -0.020027, -0.020238, -0.020527, -0.019604, -0.017617, -0.015218, -0.012889, -0.009915, -0.005749, -0.002012, 0.002686, 0.005418, 0.006428, 0.006229, 0.006124, 0.004409, 0.001330, -0.000177, -0.002408, -0.004183, -0.005390, -0.005776, -0.004700, -0.002657, -0.001421, -0.001921
#*# 	  -0.030805, -0.027330, -0.023367, -0.019516, -0.018825, -0.019655, -0.019484, -0.018767, -0.016927, -0.014662, -0.011581, -0.010232, -0.007449, -0.002817, 0.000708, 0.003256, 0.003383, 0.003199, 0.003890, 0.002402, 0.000535, -0.001456, -0.003602, -0.005599, -0.007782, -0.008475, -0.009198, -0.009482, -0.008976, -0.010564
#*# 	  -0.030880, -0.026782, -0.023427, -0.019822, -0.018861, -0.019221, -0.019751, -0.019554, -0.017714, -0.015055, -0.012049, -0.010298, -0.007796, -0.004419, -0.000474, 0.000836, 0.001197, 0.001068, 0.000719, 0.000760, -0.000221, -0.001126, -0.002890, -0.006252, -0.008332, -0.009670, -0.011132, -0.010913, -0.012015, -0.014342
#*# 	  -0.032590, -0.028571, -0.025200, -0.022492, -0.021796, -0.022554, -0.022853, -0.022420, -0.020873, -0.017906, -0.015130, -0.011855, -0.008990, -0.005622, -0.003171, -0.001758, -0.001404, -0.001634, -0.001438, -0.001928, -0.002067, -0.002786, -0.004578, -0.008454, -0.010808, -0.011224, -0.011871, -0.011018, -0.011827, -0.013727
#*# 	  -0.029428, -0.026025, -0.023495, -0.021386, -0.020883, -0.021098, -0.021247, -0.020806, -0.018718, -0.015834, -0.013111, -0.009845, -0.004951, -0.002924, -0.000458, 0.000748, 0.001891, 0.002255, 0.001826, 0.001000, -0.000264, -0.001262, -0.002998, -0.006415, -0.009249, -0.009505, -0.008817, -0.007333, -0.007344, -0.008874
#*# 	  -0.031050, -0.027789, -0.024704, -0.022024, -0.021070, -0.021344, -0.021801, -0.020477, -0.018560, -0.015303, -0.012676, -0.008902, -0.004951, -0.002020, 0.000234, 0.002344, 0.003922, 0.005304, 0.004574, 0.003077, 0.000835, -0.000523, -0.002410, -0.004534, -0.006303, -0.005092, -0.002389, -0.000385, 0.000249, -0.001641
#*# 	  -0.035035, -0.031610, -0.027968, -0.024410, -0.023524, -0.023361, -0.022996, -0.022285, -0.019625, -0.016679, -0.013872, -0.010613, -0.007565, -0.003945, -0.001357, 0.001003, 0.002765, 0.002688, 0.003408, 0.001379, -0.001385, -0.003267, -0.004808, -0.007338, -0.008938, -0.009305, -0.009200, -0.008220, -0.008051, -0.008727
#*# 	  -0.029629, -0.025487, -0.022237, -0.019589, -0.017895, -0.017257, -0.017382, -0.015928, -0.013294, -0.010657, -0.008245, -0.005998, -0.002788, 0.000399, 0.003836, 0.006520, 0.007636, 0.008201, 0.007056, 0.004924, 0.002269, -0.000258, -0.003352, -0.006286, -0.008045, -0.008938, -0.009380, -0.009404, -0.009661, -0.010198
#*# 	  -0.022742, -0.019022, -0.015590, -0.013177, -0.012563, -0.011988, -0.011406, -0.009548, -0.007366, -0.005222, -0.003063, -0.001621, 0.001370, 0.005429, 0.008918, 0.011775, 0.012483, 0.011618, 0.010497, 0.008388, 0.005093, 0.001991, -0.002304, -0.006109, -0.007848, -0.008774, -0.008976, -0.008465, -0.008097, -0.008766
#*# 	  -0.018359, -0.014334, -0.010251, -0.008299, -0.008151, -0.008281, -0.007975, -0.006027, -0.003659, -0.001942, -0.000417, 0.000739, 0.004252, 0.008405, 0.012494, 0.015308, 0.015887, 0.014961, 0.013201, 0.010940, 0.007619, 0.004699, -0.000039, -0.004667, -0.008035, -0.007985, -0.007314, -0.005624, -0.005704, -0.006700
#*# 	  -0.012211, -0.008107, -0.004587, -0.002661, -0.002588, -0.002965, -0.002199, -0.000642, 0.001047, 0.002979, 0.003802, 0.005299, 0.009245, 0.014163, 0.019014, 0.021386, 0.021998, 0.021063, 0.020682, 0.017917, 0.014692, 0.011422, 0.005969, 0.001117, -0.001437, -0.001069, 0.000821, 0.003801, 0.004503, 0.004964
#*# 	  -0.006610, -0.002371, 0.000670, 0.003448, 0.003521, 0.002652, 0.003051, 0.004646, 0.006282, 0.008942, 0.010727, 0.012458, 0.015152, 0.020422, 0.024558, 0.027503, 0.028123, 0.027417, 0.026469, 0.023430, 0.020918, 0.017716, 0.012250, 0.007945, 0.005987, 0.006837, 0.008740, 0.010360, 0.011073, 0.010068
#*# 	  0.002850, 0.005833, 0.008377, 0.010882, 0.011368, 0.010841, 0.010716, 0.012056, 0.013759, 0.016672, 0.018729, 0.019516, 0.021979, 0.025540, 0.029294, 0.031992, 0.032515, 0.031758, 0.030744, 0.028158, 0.025212, 0.021873, 0.017293, 0.012779, 0.010964, 0.010453, 0.012356, 0.013602, 0.013064, 0.011050
#*# 	  0.011425, 0.013887, 0.015566, 0.017891, 0.018169, 0.017997, 0.018224, 0.019175, 0.021532, 0.024087, 0.026734, 0.027804, 0.029050, 0.031735, 0.034536, 0.036812, 0.038231, 0.038323, 0.037516, 0.034742, 0.032000, 0.028644, 0.024517, 0.020101, 0.017727, 0.017462, 0.017636, 0.018737, 0.018795, 0.017485
#*# 	  0.021805, 0.024856, 0.026825, 0.030040, 0.030410, 0.030475, 0.030456, 0.032105, 0.034936, 0.036767, 0.038755, 0.039258, 0.041300, 0.042993, 0.045055, 0.046526, 0.047657, 0.048454, 0.047954, 0.045804, 0.043228, 0.039889, 0.035791, 0.032242, 0.029630, 0.028624, 0.029048, 0.030720, 0.031921, 0.031399
#*# 	  0.037012, 0.040050, 0.042824, 0.045449, 0.046176, 0.046221, 0.046385, 0.048567, 0.050519, 0.052333, 0.052921, 0.053087, 0.054452, 0.054414, 0.055076, 0.055928, 0.056824, 0.057191, 0.057281, 0.054763, 0.051724, 0.047311, 0.043509, 0.039955, 0.038269, 0.036994, 0.037390, 0.038905, 0.040674, 0.041407
#*# 	  0.050743, 0.053790, 0.056219, 0.058765, 0.058277, 0.057566, 0.058837, 0.060764, 0.062533, 0.063711, 0.064738, 0.064674, 0.065536, 0.065578, 0.065232, 0.066211, 0.066664, 0.066390, 0.065966, 0.063609, 0.060139, 0.056010, 0.051635, 0.048060, 0.046086, 0.046370, 0.048734, 0.052652, 0.056183, 0.056832
#*# 	  0.065832, 0.068440, 0.070608, 0.071080, 0.069546, 0.068647, 0.069310, 0.070892, 0.072213, 0.072886, 0.073873, 0.074767, 0.075079, 0.074371, 0.073720, 0.074565, 0.074740, 0.074054, 0.072029, 0.068566, 0.065303, 0.061601, 0.057031, 0.051921, 0.050514, 0.052591, 0.057094, 0.062277, 0.065074, 0.065744
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 30.0
#*# max_x = 270.0
#*# min_y = 30.0
#*# max_y = 270.0
#*#
#*# [scanner]
#*# scanner_touch_threshold = 2750
#*# scanner_touch_speed = 3
#*# mode = touch
#*# scanner_touch_z_offset = 0.080
#*#
#*# [axis_twist_compensation]
#*# z_compensations = -0.031605, 0.008600, 0.023005
#*# compensation_start_x = 20.0
#*# compensation_end_x = 280.0
